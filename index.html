<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UniPlace – Role Based Portal</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet" />

  <style>
    :root {
      --primary: #0d6efd;
      --secondary: #6c757d;
      --bg: #f4f6f9;
      --sidebar-bg: #1e272e;
      --sidebar-hover: #3c40c6;
      --card-bg: white;
    }
    body {
      margin: 0;
      background: var(--bg);
      font-family: Poppins, sans-serif;
    }
    .topbar {
      display: none;
      justify-content: space-between;
      align-items: center;
      background: var(--primary);
      color: white;
      padding: 12px 20px;
    }
    .topbar button {
      background: #fff !important;
      color: #000;
      border: none;
      padding: 6px 12px;
      font-size: 13px;
      border-radius: 6px;
      cursor: pointer;
    }
    .sidebar {
      position: fixed;
      top: 0; left: 0;
      width: 220px;
      height: 100%;
      background: var(--sidebar-bg);
      padding-top: 20px;
      display: none;
    }
    .sidebar ul {
      list-style: none;
      margin: 0;
      padding: 0;
    }
    .sidebar a {
      display: block;
      padding: 12px 20px;
      color: white;
      text-decoration: none;
      transition: 0.3s;
    }
    .sidebar a.active, .sidebar a:hover {
      background: var(--sidebar-hover);
    }
    .content {
      margin-left: 230px;
      padding: 20px;
      display: none;
      animation: fade 0.3s ease;
    }
    @keyframes fade { from {opacity: 0;} to {opacity: 1;} }

    .job-card, .app-card, .record-card {
      background: white;
      padding: 16px;
      border-radius: 10px;
      margin-bottom: 12px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.08);
    }

    /* login box */
    .login-container {
      display: flex;
      height: 100vh;
      justify-content: center;
      align-items: center;
    }
    .login-box {
      width: 360px;
      padding: 24px;
      background: #fff;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.12);
      text-align: center;
    }
    .login-box input, .login-box select {
      width: 100%;
      padding: 10px;
      margin-top: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
    }
    button {
      width: 100%;
      margin-top: 15px;
      padding: 12px;
      background: var(--primary);
      border: none;
      color: white;
      border-radius: 6px;
      cursor: pointer;
    }
    button:disabled {
      background: #999;
    }

    table {
      width: 100%;
      margin-top: 10px;
      border-collapse: collapse;
      background: white;
      border-radius: 6px;
      overflow: hidden;
    }
    table th, table td {
      padding: 10px 12px;
      border-bottom: 1px solid #eee;
    }
    table th {
      background: #f2f2f2;
    }
  </style>
</head>

<body>

<!-- TOP BAR -->
<div class="topbar" id="topbar">
  <h2>UniPlace</h2>
  <button onclick="logout()">Logout</button>
</div>

<!-- SIDEBAR -->
<div class="sidebar" id="sidebar">
  <ul>
    <li><a class="active" onclick="showPage('dashboard', this)">Dashboard</a></li>
    <li><a onclick="showPage('jobs', this)">Jobs</a></li>
    <li><a onclick="showPage('applications', this)">Applications</a></li>
    <li><a onclick="showPage('records', this)">Records</a></li>
    <li><a onclick="showPage('reports', this)">Reports</a></li>
  </ul>
</div>

<!-- CONTENT -->
<div class="content" id="main"></div>

<!-- LOGIN -->
<div class="login-container" id="login">
  <div class="login-box">
    <h2>Login</h2>
    <input id="name" placeholder="Name">
    <input id="email" placeholder="Email">
    <select id="role">
      <option value="student">Student</option>
      <option value="officer">Placement Officer</option>
      <option value="admin">Admin</option>
    </select>
    <button onclick="loginUser()">Login</button>
  </div>
</div>

<script>
/* ----------------------------------------
   DATA FOR EACH ROLE (Option B)
-----------------------------------------*/

const DATA = {
  student: {
    applications: [
      { job: "Frontend Developer", company: "TechCorp", status: "Shortlisted" },
      { job: "Data Analyst", company: "DataSolve", status: "Pending" },
      { job: "AI Intern", company: "SmartAI", status: "Rejected" }
    ],
    reports: `
      <ul>
        <li>Placement Rate: 92%</li>
        <li>Top Companies: IBM, Infosys, Wipro</li>
        <li>Your Chances: Strong</li>
      </ul>
    `
  },

  officer: {
    records: [
      {name:"Rahul", dept:"CSE", company:"Google", pkg:12},
      {name:"Asha", dept:"AIML", company:"Microsoft", pkg:10},
      {name:"Vikram", dept:"ECE", company:"Infosys", pkg:6}
    ],
    pendingApplications: [
      {student:"John", job:"Java Developer", company:"Infosys"},
      {student:"Riya", job:"UI Designer", company:"Adobe"},
      {student:"Karan", job:"Backend Intern", company:"TechMahindra"}
    ],
    reports: `
      <ul>
        <li>Total Students Placed: 420</li>
        <li>Highest Package: 18 LPA</li>
        <li>Top Recruiters: Google, Amazon, Accenture</li>
      </ul>
    `
  },

  admin: {
    allApplications: [
      {name:"Rahul", job:"DevOps Engineer", company:"Amazon", status:"Selected"},
      {name:"Asha", job:"ML Engineer", company:"DeepMind", status:"Pending"},
      {name:"Kiran", job:"React Developer", company:"TCS", status:"Rejected"}
    ],
    allRecords: [
      {name:"Ravi", dept:"CSE", company:"Amazon", pkg:18},
      {name:"Zara", dept:"IT", company:"Oracle", pkg:10},
      {name:"Manoj", dept:"EEE", company:"Zoho", pkg:6}
    ],
    reports: `
      <ul>
        <li>System Health: OK</li>
        <li>Total Users: 1200+</li>
        <li>Database Size: 52MB</li>
        <li>Overall Placement Rate: 91%</li>
      </ul>
    `
  }
};

/* ----------------------------------------
   LOGIN
-----------------------------------------*/
function loginUser() {
  let name = document.getElementById("name").value;
  let role = document.getElementById("role").value;
  localStorage.setItem("name", name);
  localStorage.setItem("role", role);

  document.getElementById("login").style.display = "none";
  document.getElementById("topbar").style.display = "flex";
  document.getElementById("sidebar").style.display = "block";
  document.getElementById("main").style.display = "block";

  showPage("dashboard");
}

/* ----------------------------------------
   LOGOUT
-----------------------------------------*/
function logout() {
  localStorage.clear();
  location.reload();
}

/* ----------------------------------------
   SIDEBAR NAVIGATION
-----------------------------------------*/
function showPage(page, el) {
  if (el) {
    document.querySelectorAll(".sidebar a").forEach(a=>a.classList.remove("active"));
    el.classList.add("active");
  }

  const area = document.getElementById("main");
  area.innerHTML = `<h2>${page.toUpperCase()}</h2>`;

  const role = localStorage.getItem("role");

  /* ------------ DASHBOARD ------------*/
  if (page === "dashboard") {
    area.innerHTML += `<div class="job-card"><h3>Welcome, ${localStorage.getItem("name")}!</h3>
    <p>Your Role: ${role.toUpperCase()}</p></div>`;
  }

  /* ------------ JOBS ------------*/
  if (page === "jobs") {
    area.innerHTML += `
      <div class="job-card"><h3>Software Engineer</h3><p>Google - Bangalore</p></div>
      <div class="job-card"><h3>Data Scientist</h3><p>Amazon - Hyderabad</p></div>
      <div class="job-card"><h3>UI Designer</h3><p>Adobe - Chennai</p></div>
    `;
  }

  /* ------------ APPLICATIONS ------------*/
  if (page === "applications") {
    if (role === "student") {
      DATA.student.applications.forEach(a => {
        area.innerHTML += `<div class="app-card"><strong>${a.job}</strong>
        <p>${a.company}</p><p>Status: ${a.status}</p></div>`;
      });

    } else if (role === "officer") {
      DATA.officer.pendingApplications.forEach(a => {
        area.innerHTML += `<div class="app-card"><strong>${a.student}</strong>
        <p>${a.job} @ ${a.company}</p></div>`;
      });

    } else {
      DATA.admin.allApplications.forEach(a => {
        area.innerHTML += `<div class="app-card"><strong>${a.name}</strong>
        <p>${a.job} - ${a.company}</p><p>${a.status}</p></div>`;
      });
    }
  }

  /* ------------ RECORDS ------------*/
  if (page === "records") {
    if (role === "officer") {
      DATA.officer.records.forEach(r=>{
        area.innerHTML += `<div class="record-card"><strong>${r.name}</strong>
        <p>${r.dept} → ${r.company} (${r.pkg} LPA)</p></div>`;
      });
    } else {
      DATA.admin.allRecords.forEach(r=>{
        area.innerHTML += `<div class="record-card"><strong>${r.name}</strong>
        <p>${r.dept} → ${r.company} (${r.pkg} LPA)</p></div>`;
      });
    }
  }

  /* ------------ REPORTS ------------*/
  if (page === "reports") {
    area.innerHTML += `<div class="job-card"><h3>Reports</h3>${
      DATA[role].reports
    }</div>`;
  }
}

/* Restore session if user is already logged in */
document.addEventListener("DOMContentLoaded", () => {
  if (localStorage.getItem("role")) {
    document.getElementById("login").style.display = "none";
    document.getElementById("topbar").style.display = "flex";
    document.getElementById("sidebar").style.display = "block";
    document.getElementById("main").style.display = "block";
    showPage("dashboard");
  }
});
</script>

</body>
</html>
