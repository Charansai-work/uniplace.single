<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>UniPlace</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet" />

  <!-- Material Dashboard Professional Theme -->
  <style>
    :root {
      --primary: #007bff;
      --secondary: #6c757d;
      --bg: #f4f6f9;
      --card-bg: #ffffff;
      --sidebar-bg: #1e272e;
      --sidebar-hover: #3c40c6;
    }

    body {
      font-family: "Poppins", sans-serif;
      margin: 0;
      background: var(--bg);
      color: #2f3640;
      transition: 0.3s ease;
    }

    /* Top Bar */
    .topbar {
      background: var(--primary);
      color: white;
      padding: 12px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 3px 6px rgba(0,0,0,0.08);
    }

    /* Sidebar */
    .sidebar {
      position: fixed;
      top: 0;
      left: 0;
      width: 220px;
      height: 100vh;
      background: var(--sidebar-bg);
      padding: 25px 0;
      display: flex;
      flex-direction: column;
      gap: 18px;
      transition: 0.3s;
    }
    .sidebar h3 {
      text-align: center;
      margin-bottom: 10px;
      color: #fff;
    }
    .sidebar ul {
      list-style: none;
      padding: 0;
    }
    .sidebar li {
      margin: 10px 0;
    }
    .sidebar a {
      padding: 12px 20px;
      display: block;
      color: white;
      text-decoration: none;
      font-size: 15px;
      border-left: 4px solid transparent;
      transition: 0.25s;
    }
    .sidebar a:hover, .sidebar a.active {
      background: var(--sidebar-hover);
      border-left: 4px solid white;
    }

    /* Page Content */
    .content {
      margin-left: 240px;
      padding: 24px;
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    /* Job Cards */
    .job-card {
      background: var(--card-bg);
      padding: 20px;
      border-radius: 10px;
      margin-bottom: 18px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    .job-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 4px 14px rgba(0,0,0,0.15);
    }

    /* Login */
    .login-container {
      display: none;
      justify-content: center;
      align-items: center;
      height: 100vh;
      background: #dcdde1;
    }

    .login-box {
      background: white;
      width: 340px;
      padding: 30px;
      border-radius: 12px;
      text-align: center;
      box-shadow: 0 4px 15px rgba(0,0,0,0.15);
      animation: fadeIn 0.5s ease;
    }

    .login-box input, .login-box select {
      width: 100%;
      padding: 10px;
      border-radius: 6px;
      border: 1px solid #ccc;
      margin-top: 10px;
      font-size: 15px;
    }

    button {
      width: 100%;
      margin-top: 15px;
      background: var(--primary);
      border: none;
      padding: 10px;
      color: white;
      border-radius: 6px;
      cursor: pointer;
      transition: 0.3s ease;
    }
    button:hover:not(:disabled) {
      background: #0056c9;
    }
    button:disabled {
      background: gray;
      cursor: not-allowed;
    }

    table.data-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 12px;
      background: var(--card-bg);
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }
    table.data-table th, table.data-table td {
      padding: 12px 14px;
      text-align: left;
      border-bottom: 1px solid #eee;
    }
    table.data-table th {
      background: #f7f9fb;
    }

    .report-list {
      background: var(--card-bg);
      padding: 12px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }

    @media (max-width: 768px) {
      .sidebar {
        width: 180px;
      }
      .content {
        margin-left: 200px;
      }
    }
  </style>
</head>
<body>

  <div class="topbar">
    <h2>UniPlace Dashboard</h2>
    <button onclick="showLogin()">Logout</button>
  </div>

  <div class="sidebar">
    <h3>Menu</h3>
    <ul>
      <li><a href="#" onclick="showPage('dashboard', this)" class="active">Dashboard</a></li>
      <li><a href="#" onclick="showPage('jobs', this)">Jobs</a></li>
      <li><a href="#" onclick="showPage('applications', this)">Applications</a></li>
      <li><a href="#" onclick="showPage('reports', this)">Reports</a></li>
    </ul>
  </div>

  <div class="content" id="main-content">
    <h3>Welcome to UniPlace!</h3>
    <div class="job-card"><h4>Frontend Developer</h4><p>TechCorp - Remote</p></div>
    <div class="job-card"><h4>Data Analyst</h4><p>DataSolve - Hyderabad</p></div>
  </div>

  <!-- Login Screen -->
  <div class="login-container" id="login">
    <div class="login-box">
      <h2>Login</h2>
      <input type="text" id="name" placeholder="Name" />
      <input type="email" id="email" placeholder="Email" oninput="validateEmail()" />
      <p id="emailError" style="color:red;font-size:13px;text-align:left"></p>
      <select id="role">
        <option value="student">Student</option>
        <option value="admin">Admin</option>
      </select>
      <button id="loginBtn" onclick="login()" disabled>Login</button>
    </div>
  </div>

<!-- Scripts moved to bottom for proper loading -->
<script>
  // All functions defined at the end so onclick handlers (in markup) can reference them safely.

  function setActiveLink(el) {
    document.querySelectorAll('.sidebar a').forEach(a => a.classList.remove('active'));
    if (el) el.classList.add('active');
  }

  function showPage(page, el) {
    // Ensure 'el' can be optional when called programmatically
    setActiveLink(el);

    const main = document.getElementById("main-content");
    // Clear and set heading
    main.innerHTML = <h3>${page.charAt(0).toUpperCase() + page.slice(1)}</h3>;

    if (page === "dashboard") {
      main.innerHTML += `
        <div class='job-card'><h4>Welcome Back!</h4><p>Here's your quick overview.</p></div>
        <div class='report-list'>
          <strong>Quick Stats</strong>
          <ul>
            <li>Total Jobs: 128</li>
            <li>Applications: 24</li>
            <li>Shortlisted: 8</li>
          </ul>
        </div>`;
    } else if (page === "jobs") {
      main.innerHTML += `
        <div style='display:flex;gap:12px;flex-wrap:wrap;'>
          <div class='job-card' style='width:320px;'><h4>Software Engineer</h4><p>Company: CodeWave</p><p>Location: Bengaluru</p></div>
          <div class='job-card' style='width:320px;'><h4>AI Intern</h4><p>Company: SmartAI</p><p>Location: Hyderabad</p></div>
          <div class='job-card' style='width:320px;'><h4>UX Designer</h4><p>Company: CreativeLabs</p><p>Location: Remote</p></div>
        </div>`;
    } else if (page === "applications") {
      main.innerHTML += `
        <div class='job-card'><h4>My Applications</h4><p>Status Tracking</p></div>
        <table class='data-table'>
          <thead><tr><th>Job</th><th>Company</th><th>Applied On</th><th>Status</th></tr></thead>
          <tbody>
            <tr><td>Frontend Developer</td><td>TechCorp</td><td>2025-11-10</td><td style='color:green'>Shortlisted</td></tr>
            <tr><td>Data Analyst</td><td>DataSolve</td><td>2025-11-08</td><td style='color:orange'>Pending</td></tr>
            <tr><td>AI Intern</td><td>SmartAI</td><td>2025-10-22</td><td style='color:red'>Rejected</td></tr>
          </tbody>
        </table>`;
    } else if (page === "reports") {
      main.innerHTML += `
        <div class='job-card'><h4>Placement Reports</h4><p>Overall analytics & stats</p></div>
        <div class='report-list'>
          <strong>Placement Summary</strong>
          <ul>
            <li>Placement Rate: 92%</li>
            <li>Top Departments: CSE, AIML</li>
            <li>Avg Package: â‚¹6.2 LPA</li>
          </ul>
        </div>

        <div style='margin-top:12px;' class='report-list'>
          <strong>Records</strong>
          <table class='data-table'>
            <thead><tr><th>Student</th><th>Dept</th><th>Placed Company</th><th>Package (LPA)</th></tr></thead>
            <tbody>
              <tr><td>Rahul K</td><td>CSE</td><td>CodeWave</td><td>8.0</td></tr>
              <tr><td>Asha S</td><td>AIML</td><td>SmartAI</td><td>7.2</td></tr>
              <tr><td>Priya M</td><td>CSE</td><td>DataSolve</td><td>5.5</td></tr>
            </tbody>
          </table>
        </div>`;
    } else {
      main.innerHTML += <p>Page not found.</p>;
    }
  }

  function login() {
    // Basic UI-only login simulation
    const name = document.getElementById('name').value.trim();
    const role = document.getElementById('role').value;
    if (!name) {
      alert('Please enter your name');
      return;
    }
    document.getElementById('login').style.display = 'none';
    document.querySelector('.topbar').style.display = 'flex';
    document.querySelector('.sidebar').style.display = 'flex';
    document.querySelector('.content').style.display = 'block';

    // personalise welcome
    const main = document.getElementById('main-content');
    main.innerHTML = <h3>Welcome, ${name} (${role})</h3>;
    // show dashboard after login
    showPage('dashboard', document.querySelector('.sidebar a'));
  }

  function showLogin() {
    document.getElementById('login').style.display = 'flex';
    document.querySelector('.topbar').style.display = 'none';
    document.querySelector('.sidebar').style.display = 'none';
    document.querySelector('.content').style.display = 'none';
  }

  function validateEmail() {
    const email = document.getElementById("email").value;
    const error = document.getElementById("emailError");
    const loginBtn = document.getElementById("loginBtn");

    const pattern = /^[a-zA-Z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$/;
    if (!pattern.test(email)) {
      error.textContent = "Enter a valid email";
      loginBtn.disabled = true;
    } else {
      error.textContent = "";
      loginBtn.disabled = false;
    }
  }

  // -- Simple test helpers (run in console) --
  // testNavigation() will simulate clicks on all sidebar items and log current heading.
  function testNavigation() {
    const links = Array.from(document.querySelectorAll('.sidebar a'));
    links.forEach((a, idx) => {
      setTimeout(() => {
        a.click();
        console.log('Clicked', a.textContent.trim(), 'Heading:', document.querySelector('#main-content h3').textContent);
      }, idx * 150);
    });
  }

  // Initialize: show login on start
  document.addEventListener('DOMContentLoaded', () => {
    showLogin();
  });
</script>

</body>
</html>
